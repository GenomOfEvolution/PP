# Конспект по async/await в C#

## Как работает async/await
- **`async`** помечает метод как асинхронный, позволяя использовать `await` внутри него.
- **`await`** приостанавливает выполнение метода до завершения асинхронной операции, **не блокируя поток**.
- После завершения операции метод возобновляется в том же контексте (например, UI-потоке в WPF).
- Компилятор преобразует такой код в конечный автомат, разбивая его на части для продолжения выполнения после `await`.

```csharp
async Task MyMethodAsync()
{
    await Task.Delay(1000); // Управление возвращается вызывающему коду
    Console.WriteLine("Выполнено после задержки");
}
```

## Что такое `Task` и для чего он нужен
- **`Task`** — это объект, представляющий асинхронную операцию без возвращаемого значения.
- **`Task<T>`** — версия с результатом (например, `Task<string>` для операции, возвращающей строку).
- **Основные функции**:
  - Инкапсулирует выполнение кода в фоне.
  - Предоставляет состояние операции (`IsCompleted`, `IsFaulted`).
  - Позволяет обрабатывать результаты и исключения через `await` или колбэки.
  - Упрощает управление параллельными операциями (например, `Task.WhenAll`).

## Зачем нужны async/await
- **Читаемость кода**: делает асинхронный код похожим на синхронный, избегая "ада колбэков".
- **Эффективность**: освобождает поток во время ожидания (например, для сетевых запросов или I/O операций).
- **Безопасность**: автоматически обрабатывает контекст синхронизации (критично для UI-приложений).
- **Обработка ошибок**: позволяет использовать `try/catch` вместо ручной проверки исключений в задачах.
